## Final Project - 葫芦娃

### 编程思想
##### 考虑到故事中的生物具有一些通用的属性和方法，同时基本不涉及多继承，在本程序中，所有的生物类都由抽象类Creature继承，而七个葫芦娃也由继承自Creature的抽象类Calabash Brother继承。
##### 出于同样的原因，故事中生物体在进攻时采用的八种阵型也继承自抽象类Pattern。
##### 对于善良阵营的生物、邪恶阵营的生物和阵型，都分别有实现了Generator接口的GoodCRTGenerator、BadCRTGenerator与PatternGenerator以进行每次大战前的随机生成。
##### 生物体与点Point都进行了equals()与hashcode()方法的重写，以使大战发生的草坪Lawn在初始化时，不会生成重复的生物与点。
##### Lawn可以获取大战时两个阵营所采用的阵型，并通过线程安全的ConcurrentHashMap<Point, Creature>来存储战场上生物体的位置，使每个位置都有唯一对应的生物体。
##### 每个生物体都实现为一个线程，可以并发完成移动move，侦查敌人detect与一旦侦查到敌人所触发的fight动作。
##### 对于move方法，如果生物体所要移动到的位置已经有生物体存在，则会进行等待，超过1000毫秒仍无法移动，则放弃移动。
##### 对于detect方法，使用boolean返回以保证只有当生物体已经检测不到敌人时，才会继续向前移动。
##### 对于fight方法，战斗中的两个生物体将会根据自身特性以一定攻击值攻击对方，直到其中一方死亡。
##### 使用CyclicBarrier来控制每轮生物体的统一前进等动作。

### 故事设定
##### 每次大战开始时，善良阵营（葫芦娃七兄弟与爷爷）和邪恶阵营（蝎子精、蛇精与小喽啰）都会随机选择一种阵型并随机排列分别站在草坪的左右两侧。
##### 考虑到战争公平，部分阵型的形状进行了一些调整，使每种阵型中生物体所能站立的个数都相等（8个）。
##### 大战开始后，善良阵营向左，邪恶阵营向右开始行进。
##### 每个生物都有自己的血量HP，最大攻击值maxATK和最小攻击值minATK，在攻击时会随机以介于最大和最小攻击值之间的某个值攻击敌人。
##### 只有当目前没有战斗可能发生时，生物体才会继续前进。
##### 每次战斗中都会有一方死亡，死亡的生物体将离开草坪。
##### 每轮都将进行胜负判定，善良阵营或邪恶阵营中的某一方全部死亡时，故事结束。